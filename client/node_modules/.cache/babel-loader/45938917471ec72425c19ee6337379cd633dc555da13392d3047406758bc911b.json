{"ast":null,"code":"var _jsxFileName = \"/Users/aleemafaisal/Desktop/seating-app/client/src/components/BookingForm.js\",\n  _s = $RefreshSig$();\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Button from '@mui/material/Button';\nimport CheckboxFormInput from './CheckboxFormInput';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookingForm({\n  hallName,\n  seatNum,\n  setOpen\n}) {\n  _s();\n  let daysSet = new Set();\n  let monthsSet = new Set();\n  const [response, setResponse] = useState(null);\n  console.log(response);\n  const handleDayClick = (i, checked) => {\n    if (checked) {\n      daysSet.add(Number(i));\n    } else {\n      daysSet.delete(Number(i));\n    }\n  };\n  const handleMonthClick = (i, checked) => {\n    if (checked) {\n      monthsSet.add(Number(i));\n    } else {\n      monthsSet.delete(Number(i));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const url = \"http://localhost:5000/halls/\" + hallName + \"/\" + seatNum;\n    const res = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: \"faisal\",\n        days: daysSet.size == 7 ? [100] : Array.from(daysSet),\n        months: monthsSet.size == 12 ? [100] : Array.from(monthsSet)\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    res.text().then(msg => setResponse(msg));\n  };\n  const dayInput = ['M', 'T', 'W', 'Th', 'F', 'S', 'S'].map((day, index) => /*#__PURE__*/_jsxDEV(CheckboxFormInput, {\n    id: \"d\" + index,\n    value: index,\n    className: \"weekday\",\n    handleClick: handleDayClick,\n    label: day\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 13\n  }, this));\n  const monthInput = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'].map((month, index) => /*#__PURE__*/_jsxDEV(CheckboxFormInput, {\n    id: \"m\" + index,\n    value: index,\n    className: \"month\",\n    handleClick: handleMonthClick,\n    label: month\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 13\n  }, this));\n  if (!response) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Book Your Seat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Valid till the end of this year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n          class: \"weekDays selector\",\n          name: \"days\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Choose Your Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), dayInput]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          class: \"months selector\",\n          name: \"days\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Choose Your Months\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), monthInput]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          type: \"submit\",\n          className: \"booking-button\",\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: response\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: () => {\n          setOpen(false);\n          setResponse(null);\n          window.location.reload();\n        },\n        children: \"OK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this);\n  }\n}\n_s(BookingForm, \"TM4HGnxieAxLTyBQJEA7E7LlHYI=\");\n_c = BookingForm;\nexport default BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["FormControl","FormLabel","FormGroup","FormControlLabel","Checkbox","Button","CheckboxFormInput","useState","jsxDEV","_jsxDEV","BookingForm","hallName","seatNum","setOpen","_s","daysSet","Set","monthsSet","response","setResponse","console","log","handleDayClick","i","checked","add","Number","delete","handleMonthClick","handleSubmit","e","preventDefault","url","res","fetch","method","body","JSON","stringify","username","days","size","Array","from","months","headers","text","then","msg","dayInput","map","day","index","id","value","className","handleClick","label","fileName","_jsxFileName","lineNumber","columnNumber","monthInput","month","children","onSubmit","class","name","variant","type","onClick","window","location","reload","_c","$RefreshReg$"],"sources":["/Users/aleemafaisal/Desktop/seating-app/client/src/components/BookingForm.js"],"sourcesContent":["import FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Button from '@mui/material/Button';\nimport CheckboxFormInput from './CheckboxFormInput';\nimport { useState } from 'react';\n\n\nfunction BookingForm({hallName, seatNum, setOpen})\n{\n    let daysSet = new Set;\n    let monthsSet = new Set;\n    const [response, setResponse] = useState(null);\n    console.log(response);\n\n    const handleDayClick = (i, checked) => {\n        if (checked)\n        {\n            daysSet.add(Number(i));\n        }\n        else\n        {\n            daysSet.delete(Number(i));\n        }\n    };\n\n    const handleMonthClick = (i, checked) => {\n        if (checked)\n        {\n            monthsSet.add(Number(i));\n        }\n        else\n        {\n            monthsSet.delete(Number(i));\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const url = \"http://localhost:5000/halls/\" + hallName + \"/\" + seatNum;\n        const res = await fetch(url, {\n            method: \"POST\",\n            body: JSON.stringify({\n                username: \"faisal\",\n                days: (daysSet.size == 7) ? [100] : Array.from(daysSet),\n                months: (monthsSet.size == 12) ? [100] : Array.from(monthsSet)\n            }),\n            headers: {\n                'Content-Type': 'application/json'\n              },\n        });\n        res.text()\n        .then(msg => setResponse(msg));\n    }\n        \n        const dayInput = ['M', 'T', 'W', 'Th', 'F', 'S','S'].map( (day, index) =>\n            <CheckboxFormInput id={\"d\" + index} value={index} className=\"weekday\" handleClick={handleDayClick} label={day} />\n        );\n\n        const monthInput = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'].map( (month, index) => \n            <CheckboxFormInput id={\"m\" + index} value={index} className=\"month\" handleClick={handleMonthClick} label={month} />\n        );\n        \n        if (!response){\n        return(\n            <div>\n                <h1>Book Your Seat</h1>\n                <h2>Valid till the end of this year</h2>\n                <form onSubmit={handleSubmit}>\n                    <fieldset class=\"weekDays selector\" name='days'>\n                        <legend>Choose Your Days</legend>\n                        {dayInput}\n                    </fieldset>\n                    <fieldset class=\"months selector\" name='days'>\n                        <legend>Choose Your Months</legend>\n                        {monthInput}\n                    </fieldset>\n                    <Button variant=\"contained\" type='submit' className='booking-button'>Book</Button>\n                </form>\n            </div>\n        );            \n        }\n        else{\n            return (\n                <div>\n                    <h1>{response}</h1>\n                    <Button variant=\"contained\" onClick={() => {setOpen(false); setResponse(null); window.location.reload();}}>OK</Button>\n                </div>\n            )\n        }\n\n}\n\nexport default BookingForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}